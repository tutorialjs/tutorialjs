function sendRegistrationId(e,n,t,o,i){$.post("/notification/devices",{id:e,service:n,device:t,type:o,name:i},function(e){document.cookie="notificationPermission=true; expires=Fri, 31 Dec 9999 23:59:59 GMT"})}function sendShownCallback(e,n,t){function o(e){console.log(e)}var i={notificationId:e.notificationId,type:CALLBACK_TYPES.RECEIVED};if(n){return postRequest(t,JSON.stringify(i),o)}return sendCallback(i,o)}function sendReadCallback(e){function n(e){console.log(e)}return sendCallback({notificationId:e,type:CALLBACK_TYPES.READ},n)}function sendClickedCallback(e,n,t){function o(e){console.log(e)}var i={notificationId:e,type:CALLBACK_TYPES.CLICKED};if(n){return postRequest(t,JSON.stringify(i),o)}return sendCallback(i,o)}function sendCallback(e,n){$.post("/notification/callback",e)}function postRequest(e,n,t){if(self.fetch)fetch(e,{method:"POST",body:n,headers:DEFAULT_HEADERS}).then(function(e){e.json().then(function(e){t(e)})});else if(self.XMLHttpRequest){var o;o=new XMLHttpRequest,o.onreadystatechange=function(){if(4===this.readyState&&201===this.status){var e=JSON.parse(o.responseText);t(e)}},o.open("POST",e,!0),o.setRequestHeader("Content-type",DEFAULT_HEADERS["Content-Type"]),o.send(n)}else console.log("No way to send out",n)}var CALLBACK_TYPES={RECEIVED:"received",CLICKED:"clicked",READ:"read"},DEFAULT_HEADERS={"Content-Type":"application/json"};