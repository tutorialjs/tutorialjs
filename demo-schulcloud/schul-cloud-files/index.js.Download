var pushManager={requestPermissionCallback:null,setRegistrationId:function(e,o,t){var i="deviceToken="+e;document.cookie=i+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/",t=navigator.platform;var n=isMobile()?"mobile":"desktop",r=browser();getCookiesMap(document.cookie).notificationPermission&&sendRegistrationId(e,o,t,n,r)},error:function(e,o){console.log(o||"Push error: ",e)},handleNotification:function(e){console.log("notification event",e)},requestPermission:function(){document.cookie="notificationPermission=true; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/",this.requestPermissionCallback&&(this.requestPermissionCallback(),setTimeout(function(){window.location.reload()},2e3))},registerSuccessfulSetup:function(e,o){this.requestPermissionCallback=o}},getCookiesMap=function(e){return e.split(";").map(function(e){return e.trim().split("=")}).reduce(function(e,o){return e[o[0]]=o[1],e},{})},browser=function e(){if(e.prototype._cachedResult)return e.prototype._cachedResult;var o=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t="undefined"!=typeof InstallTrigger,i=/constructor/i.test(window.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window.safari||safari.pushNotification),n=!!document.documentMode,r=!n&&!!window.StyleMedia,s=!!window.chrome&&!!window.chrome.webstore;(s||o)&&window.CSS;return e.prototype._cachedResult=o?"Opera":t?"Firefox":i?"Safari":s?"Chrome":n?"IE":r?"Edge":"Don't know"},isMobile=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}};